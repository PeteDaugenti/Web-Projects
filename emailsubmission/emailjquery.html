<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Email Submission: jQuery version</title>
        <link rel="stylesheet" href="email.css">
        <script src="jquery-3.4.1.js"></script>
        <script>
            // when using jQuery for form validation, the way it is set up is the 
            // same as using JavaScript but with jQuery code.  
            
            $(document).ready(function(){
                $("#join_list").click(function(){
                    var emailAddress1 = $("#email_address1").val();
                    var emailAddress2 = $("#email_address2").val();
                    var firstName = $("#fname").val();
                    var isValid = true;

                    // validation code 
                    if (emailAddress1 == ""){
                        $("#error1").text("This field is required.");
                        isValid = false;
                    }else{
                        $("#error1").text("");
                    }

                    if (emailAddress2 == ""){
                        $("#error2").text("This field is required.");
                        isValid = false;
                    }else if (emailAddress2 != emailAddress1){
                            $("#erroremail").text("Email Address must match.");
                            $("#error2").text("");
                        }else{
                        $("#error2").text(""); 
                        $("#erroremail").text(""); 
                    }

                    if (firstName == ""){
                        $("#error3").text("First name is required.");
                        isValid = false;
                    }else{
                        $("#error3").text("");
                    }

                    // form submission
                    if (isValid){
                        $("#email_sub").submit();
                    }

                });

                $("#email_address1").focus();
            });

        </script>
    </head>
    <main>

        <!--This application contains form validation for quick email list using
        jQuery to test out validation for each field, including matching email addresses-->
        
        <h1>Please join our email list</h1>
        <h2 id="error1"></h2>
        <h2 id="error2"></h2>
        <h2 id="error3"></h2>
        <h2 id="erroremail"></h2>
        <form id="email_sub" name="email_sub" action="#" method="get">
            <label for="email_address1">Email Address: </label>
            <input type="email" id="email_address1">
            <span>*</span><br>

            <label for="email_address2">Confirm Email Address: </label>
            <input type="email" id="email_address2">
            <span>*</span><br>

            <label for="fname">First Name: </label>
            <input type="text" id="fname">
            <span>*</span><br>

            <label>&nbsp;</label>
            <input type="button" id="join_list" value="Join Our List">
        </form>
    </main>
</html>